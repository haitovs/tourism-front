{# templates/_sponsors_carousel.html #} {% set tier = data["tier"] %} {% set all = data["items"]|default([]) %} {% set
count = all|length %} {% set tier_label = (tier | capitalize) ~ " Sponsor" %} {% set tier_class = "tier-gold" if tier ==
"gold" else ("tier-silver" if tier == "silver" else "tier-bronze") %} {% macro card(sp) -%}
<article class="bg-white rounded-2xl shadow p-4 w-[190px] h-[225px] flex flex-col items-center justify-start">
    {% if sp.logo_url %}
    <img
        src="{{ sp.logo_url }}"
        alt="{{ sp.name }}"
        title="{{ sp.name }}"
        class="w-[150px] h-[150px] object-contain select-none pointer-events-none"
        loading="lazy"
    />
    {% else %}
    <img
        src="/static/img/img_placeholder.png"
        alt="Sponsor"
        class="w-[150px] h-[150px] object-contain opacity-70 select-none pointer-events-none"
        loading="lazy"
    />
    {% endif %}
    <div class="mt-2 text-center font-['Roboto'] font-semibold text-[21px] {{ tier_class }}">{{ tier_label }}</div>
</article>
{%- endmacro %} {% if count == 0 %}
<div class="text-center text-slate-400">No {{ tier }} sponsors yet</div>

{% elif count <= 10 %} {% set r1 = all[:5] %} {% set r2 = all[5:10] %}
<div class="space-y-4 w-full max-w-[var(--container)] mx-auto">
    <div class="flex flex-wrap justify-center gap-4">
        {% for sp in r1 %}
        <div class="flex justify-center">{{ card(sp) }}</div>
        {% endfor %}
    </div>
    {% if r2 %}
    <div class="flex flex-wrap justify-center gap-4">
        {% for sp in r2 %}
        <div class="flex justify-center">{{ card(sp) }}</div>
        {% endfor %}
    </div>
    {% endif %}
</div>

{% else %} {% set row1 = all[0::2] %} {% set row2 = all[1::2] %}
<div class="space-y-4 w-full max-w-[var(--container)] mx-auto" data-marquee-group>
    <div class="marquee" data-marquee data-speed="60" data-min="1" data-respect-rm="false" style="--gap: 1rem">
        <div class="marquee__viewport">
            <ul class="marquee__track">
                {% for sp in row1 %}
                <li class="marquee__item">{{ card(sp) }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <div class="marquee" data-marquee data-speed="60" data-min="1" data-respect-rm="false" style="--gap: 1rem">
        <div class="marquee__viewport">
            <ul class="marquee__track">
                {% for sp in row2 %}
                <li class="marquee__item">{{ card(sp) }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endif %}
