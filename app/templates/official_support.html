{% extends "base.html" %}
{% from "_hero_macros.html" import hero_buttons %}

{% block content %}
<main class="w-screen min-h-screen official-support">
    <section class="relative w-full h-[450px]">
        <img src="/static/img/unified-hero.png" alt="" class="absolute inset-0 w-full h-full object-cover" />
        <div class="absolute inset-0 bg-black/35"></div>

        <div class="relative z-[1] h-full flex flex-col items-center justify-center text-center px-4">
            <h1 class="font-['Montserrat'] font-bold text-white text-[clamp(30px,7vw,60px)] leading-[1.15]">
                {{ t('official.hero.title') }}
            </h1>
            <p class="mt-3 font-['Roboto'] font-medium text-white text-[clamp(16px,4vw,25px)] leading-[1.35] max-w-[820px]">
                {{ t('official.hero.subtitle') }}
            </p>
        </div>

        {{ hero_buttons(home_href='/', section_label=t('official.section_label'), section_href='/official-support', is_detail=False) }}
    </section>

    <section class="w-screen min-h-screen flex items-stretch justify-center p-0">
        {% if doc_is_image and doc_image_url %}
        <div class="flex items-center justify-center w-full h-full">
            <img src="{{ doc_image_url }}" alt="{{ doc_filename or 'Document image' }}"
                class="max-h-[90vh] max-w-[95vw] object-contain" loading="lazy" />
        </div>
        {% elif doc_is_pdf and doc_embed_url %}
        {% set _src = doc_embed_url ~ '#toolbar=0&navpanes=0&scrollbar=0' %}
        <iframe title="Official support document" src="{{ _src }}" class="w-screen h-screen border-0 block"
            allowfullscreen loading="lazy"></iframe>
        {% elif viewer_url %}
        <iframe title="Official support document" src="{{ viewer_url }}" class="w-screen h-screen border-0 block"
            allowfullscreen loading="lazy"></iframe>
        {% elif viewer_url_alt %}
        <iframe title="Official support document" src="{{ viewer_url_alt }}" class="w-screen h-screen border-0 block"
            allowfullscreen loading="lazy"></iframe>
        {% elif doc_html %}
        <div class="w-screen min-h-screen p-0 overflow-auto font-['Roboto'] text-[18px] leading-[28px] text-black prose max-w-none legal-content"
            aria-label="Official support document body">
            {{ doc_html|safe }}
        </div>
        {% else %}
        <div class="w-screen min-h-screen flex items-center justify-center p-8 text-center font-['Roboto'] text-[18px] leading-[28px] text-black">
            {{ t('official.missing_doc') if t else 'Document unavailable.' }}
        </div>
        {% endif %}
    </section>
</main>
{% endblock %}
