{# Card components for News pages #}

{% macro news_card(n) -%}
<article class="bg-white rounded-[14px] w-full mx-auto shadow-sm">
    <div class="p-4 h-full flex flex-col">
        <!-- Responsive image: 16:9 -->
        <div class="w-full aspect-[16/9] rounded-[10px] overflow-hidden">
            {% if n.image_url %}
            <img src="{{ n.image_url }}" alt="{{ n.title }}" class="w-full h-full object-cover" loading="lazy"
                decoding="async" sizes="(min-width:1024px) 33vw, (min-width:768px) 50vw, 100vw" />
            {% else %}
            <img src="/static/img/news_placeholder.jpg" alt="" class="w-full h-full object-cover opacity-80"
                loading="lazy" decoding="async" sizes="(min-width:1024px) 33vw, (min-width:768px) 50vw, 100vw" />
            {% endif %}
        </div>

        <div class="mt-3 flex items-center gap-3 flex-wrap">
            <span class="inline-flex items-center justify-center h-[32px] px-3 rounded-[10px] bg-[#007A3D]">
                <span class="font-['Roboto'] font-bold text-[14px] md:text-[16px] leading-[20px] text-white">
                    {{ n.category or t('news.category_default') }}
                </span>
            </span>
            <span class="flex items-center gap-2 text-[#8CC3A8]">
                <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="12" cy="12" r="9" fill="none" stroke="#007A3D" stroke-width="2" />
                    <path d="M12 7v5l3 2" fill="none" stroke="#007A3D" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <span class="font-['Inter'] font-semibold text-[14px] md:text-[16px]">{{ n.date_human }}</span>
            </span>
        </div>

        <h4 class="mt-3 font-['Montserrat'] font-semibold text-[clamp(16px,2.2vw,20px)] leading-[1.2] text-[#1E1E1E]">
            {{ n.title }}
        </h4>

        <a href="/news/{{ n.id }}"
            class="mt-auto inline-flex items-center gap-2 font-['Roboto'] text-[16px] md:text-[18px] leading-[28px] underline text-[#007A3D]">
            {{ t('news.read_more')|upper }}
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 12h14M13 6l6 6-6 6" fill="none" stroke="#007A3D" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </a>
    </div>
</article>
{%- endmacro %}

{% macro featured_card(n) -%}
<article class="bg-white rounded-[14px] w-full mx-auto shadow-sm">
    <div class="p-4 md:p-5 lg:p-6 h-full flex flex-col">
        <div class="w-full aspect-[16/9] sm:aspect-[5/3] xl:aspect-[7/3] rounded-[10px] overflow-hidden">
            {% if n.image_url %}
            <img src="{{ n.image_url }}" alt="{{ n.title }}" class="w-full h-full object-cover" loading="eager"
                decoding="async"
                sizes="(min-width:1536px) 720px, (min-width:1280px) 660px, (min-width:1024px) 600px, 100vw" />
            {% else %}
            <img src="/static/img/news_placeholder.jpg" alt="" class="w-full h-full object-cover opacity-80"
                loading="eager" decoding="async"
                sizes="(min-width:1536px) 720px, (min-width:1280px) 660px, (min-width:1024px) 600px, 100vw" />
            {% endif %}
        </div>

        <div class="mt-4 flex items-center gap-3 md:gap-4 flex-wrap">
            <span
                class="inline-flex items-center justify-center h-[32px] md:h-[36px] px-3 md:px-4 rounded-[10px] bg-[#007A3D]">
                <span class="font-['Roboto'] font-bold text-[14px] md:text-[16px] leading-[20px] text-white">
                    {{ n.category or t('news.category_default') }}
                </span>
            </span>
            <span class="flex items-center gap-2 text-[rgba(0,122,61,0.45)]">
                <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="12" cy="12" r="9" fill="none" stroke="#007A3D" stroke-width="2" />
                    <path d="M12 7v5l3 2" fill="none" stroke="#007A3D" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <span class="font-['Inter'] font-semibold text-[14px] md:text-[16px]">{{ n.date_human }}</span>
            </span>
        </div>

        <h3
            class="mt-3 md:mt-4 font-['Montserrat'] font-semibold text-[clamp(20px,3vw,35px)] leading-[1.15] text-[#1E1E1E]">
            {{ n.title }}
        </h3>

        <p
            class="mt-3 md:mt-4 font-['Roboto'] text-[clamp(15px,2.1vw,20px)] lg:text-[22px] leading-[1.45] text-black/70 max-w-prose flex-1">
            {{ n.summary }}
        </p>

        <a href="/news/{{ n.id }}"
            class="mt-5 md:mt-6 inline-flex items-center gap-2 font-['Roboto'] text-[16px] md:text-[20px] leading-[28px] md:leading-[30px] underline text-[#007A3D]">
            {{ t('news.read_more')|upper }}
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 12h14M13 6l6 6-6 6" fill="none" stroke="#007A3D" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </a>
    </div>
</article>
{%- endmacro %}