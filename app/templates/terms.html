{% extends "base.html" %}
{% from "_hero_macros.html" import hero_buttons %}
{% block content %}
{% if is_site('site-b') %}
<main>
    <section class="relative w-full h-[360px] sm:h-[420px]">
        <img src="{{ theme('img/hero-bg.png') }}" alt="" class="absolute inset-0 w-full h-full object-cover" />
        <div class="absolute inset-0" style="background: rgba(32,48,108,0.55);"></div>

        <div class="relative z-[1] h-full flex flex-col items-center justify-center text-center px-4">
            <h1 class="font-['Montserrat'] font-bold text-white text-[clamp(34px,5vw,58px)] leading-tight">
                {{ t('siteb.terms.hero.title') }}
            </h1>
            <p class="mt-3 font-['Roboto'] text-white/90 text-[clamp(16px,2.4vw,22px)] max-w-[760px]">
                {{ t('siteb.terms.hero.subtitle') }}
            </p>
        </div>

        {{ hero_buttons(
            home_href = '/',
            section_label = t('siteb.terms.section_label'),
            section_href = '/terms',
            is_detail = False
        ) }}
    </section>

    {% set _sections = terms.sections if terms else [] %}
    {% set _content = terms.content_html if terms else '' %}
    {% set _has_body = (_sections and _sections|length > 0) or (_content and _content|trim != '') %}

    <section id="terms-content" class="relative py-12 sm:py-14 lg:py-16">
        <div class="absolute inset-0 -z-[1] bg-[#0b163d]">
            <div class="absolute inset-0 opacity-[0.88]"
                style="background: radial-gradient(120% 120% at 82% 12%, rgba(96,125,232,0.5) 0%, rgba(7,16,39,0.93) 60%, rgba(4,10,28,1) 100%);">
            </div>
        </div>

        <div class="relative max-w-[1220px] mx-auto px-4 sm:px-6 lg:px-8">
            <article
                class="bg-white/95 backdrop-blur-sm rounded-[24px] shadow-[0_24px_60px_rgba(8,19,54,0.28)] px-6 py-8 sm:px-9 sm:py-10 lg:px-12 lg:py-12">

                {% if not _has_body %}
                <div class="bg-[#F3F5FF] border border-[#d6defd] rounded-[16px] px-6 py-10 text-center">
                    <h2 class="font-['Montserrat'] text-[#20306C] text-[clamp(24px,3.4vw,34px)] leading-tight">
                        {{ t('terms.empty.title') }}
                    </h2>
                    <p class="mt-4 font-['Roboto'] text-[#404a7a] text-[17px] leading-[1.6]">
                        {{ t('terms.empty.subtitle') }}
                    </p>
                </div>
                {% else %}
                <div class="space-y-10">
                    {% for sec in (_sections or []) %}
                    <section class="grid gap-5 lg:gap-8 lg:grid-cols-[minmax(0,260px)_minmax(0,1fr)]">
                        <h2 class="font-['Montserrat'] text-[#0E1B40] text-[clamp(22px,3.8vw,32px)] leading-tight">
                            {{ sec.title }}
                        </h2>
                        <div class="font-['Roboto'] text-[#213269] text-[17px] sm:text-[18px] leading-[1.75] prose max-w-none">
                            {{ sec.body_html | safe }}
                        </div>
                    </section>

                    {% if not loop.last %}
                    <div class="h-px w-full bg-gradient-to-r from-[#dfe6ff] via-[#c5d4ff] to-transparent"></div>
                    {% endif %}
                    {% endfor %}

                    {% if (_sections or [])|length == 0 and _content %}
                    <article class="font-['Roboto'] text-[#213269] text-[17px] sm:text-[18px] leading-[1.75] prose max-w-none">
                        {{ _content | safe }}
                    </article>
                    {% endif %}
                </div>
                {% endif %}
            </article>
        </div>
    </section>
</main>
{% else %}
<section class="relative w-full h-[450px]">
    <img src="/static/img/unified-hero.png" alt="" class="absolute inset-0 w-full h-full object-cover" />
    <div class="absolute inset-0 bg-black/35"></div>

    <div class="relative z-[1] h-full flex flex-col items-center justify-center text-center px-4">
        <h1 class="font-['Montserrat'] font-bold text-white text-[60px] leading-[73px]">
            {{ t('terms.hero.title') }}
        </h1>
        <p class="mt-3 font-['Roboto'] font-medium text-white text-[25px] leading-[29px] max-w-[820px]">
            {{ t('terms.hero.subtitle') }}
        </p>
    </div>

    {{ hero_buttons(home_href='/', section_label=t('terms.section_label'), section_href='/terms', is_detail=False) }}
</section>

<section class="max-w-[var(--container)] mx-auto px-4 py-10">
    <div class="mx-auto max-w-[1450px] bg-white rounded-[10px] shadow-md px-6 md:px-10 py-10">
        {% set has_body = terms and ((terms.sections or [])|length > 0 or (terms.content_html or '')|length > 0) %}
        {% if not has_body %}
        <div class="text-center py-16">
            <h2 class="font-['Montserrat'] text-[32px] md:text-[40px] text-[#1E1E1E]">{{ t('terms.empty.title') }}</h2>
            <p class="mt-4 font-['Roboto'] text-[18px] md:text-[20px] text-[#444]">{{ t('terms.empty.subtitle')
                }}</p>
        </div>
        {% else %}
        <div class="mt-6 space-y-10">
            {% for sec in (terms.sections or []) %}
            <div class="grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-10 items-start">
                <div class="md:col-span-4">
                    <div class="font-['Montserrat'] text-[#000] text-[26px] md:text-[30px] leading-10">
                        {{ sec.title }}
                    </div>
                </div>
                <div class="md:col-span-8">
                    <div class="font-['Roboto'] text-[#000] text-[18px] md:text-[20px] leading-[28px] prose max-w-none">
                        {{ sec.body_html | safe }}
                    </div>
                </div>
            </div>
            {% if not loop.last %}
            <div class="mt-4 border-t border-black/10"></div>
            {% endif %}
            {% endfor %}

            {% if (terms.sections or []) | length == 0 and terms.content_html %}
            <article class="prose max-w-none font-['Roboto'] text-[18px] md:text-[20px] leading-[28px] text-[#000]">
                {{ terms.content_html | safe }}
            </article>
            {% endif %}
        </div>
        {% endif %}
    </div>
</section>
{% endif %}
{% endblock %}
