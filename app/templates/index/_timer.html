<section class="max-w-[var(--container)] mx-auto px-4 py-14 space-y-10" id="timer">
    <!-- HEADER -->
    <header class="text-center">
        <div class="flex items-center justify-center gap-4">
            <span class="hidden sm:block h-px w-[60px] bg-[var(--c-primary)]"></span>
            <span class="font-['Montserrat'] text-[30px] leading-[75px] text-[var(--c-primary)]">
                {{ t('home.timer.title_mini') }}
            </span>
            <span class="hidden sm:block h-px w-[60px] bg-[var(--c-primary)]"></span>
        </div>
        <h2
            class="font-['Montserrat'] text-[clamp(28px,4vw,50px)] leading-[1.22] font-medium mt-1 text-center text-[#1E1E1E]">
            {{ t('home.timer.title_main') }}
        </h2>
    </header>

    <!-- One Alpine instance drives BOTH -->
    <div x-data="window.timerWidget({
      apiBase: '{{ settings.BACKEND_BASE_URL }}',
      bgUrl: '{{ url_for('static', path='/img/timer/timer_bg.png') }}',
      logoUrl: '{{ url_for('static', path='/img/timer/logo.svg') }}'
    })" x-init="$nextTick(() => init())">

        <!-- ===== BIG TIMER (>=1024px) ===== -->
        <div class="timer-big flex w-full justify-center" x-show="isDesktop" x-cloak
            x-transition.opacity.duration.200ms>
            <div class="timer-wrap w-[1100px] xl:w-[1450px] h-[380px] xl:h-[460px]">
                <!-- Background -->
                <div class="timer-bg">
                    <img src="{{ url_for('static', path='img/timer/timer_bg.png') }}" x-bind:src="bgUrl" alt=""
                        aria-hidden="true" />
                </div>

                <!-- Overlay (below content by z-index) -->
                <div class="timer-overlay"></div>

                <!-- Optional darker left panel -->
                <div class="timer-left-panel w-[480px] xl:w-[564px] bg-black/30 backdrop-blur-[2.5px] rounded-l-[20px]">
                </div>

                <!-- Content ON TOP -->
                <div class="timer-content text-white">
                    <!-- Left content -->
                    <div class="absolute left-0 top-0 h-full w-[480px] xl:w-[564px]">
                        <div class="pl-[24px] pr-[20px] pt-[16px] flex items-center gap-3 w-full">
                            <img :src="logoUrl" alt="logo" class="w-[72px] xl:w-[80px] h-auto shrink-0" />
                            <div x-data="{ defaultEvent: {{ t('home.timer.default_event')|tojson }} }"
                                x-text="eventName || defaultEvent"
                                class="timer-title font-['Montserrat'] font-medium text-[20px] xl:text-[22px] leading-[26px] xl:leading-[28px] text-white pr-1"
                                style="max-width: calc(100% - 72px - 12px - 24px - 20px)"></div>
                        </div>
                    </div>



                    <!-- Center red bar -->
                    <div
                        class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[840px] h-[190px] xl:w-[922px] xl:h-[215px]">
                        <div class="w-full h-full bg-[#007A3D] rounded-[40px] flex items-center justify-center px-8">
                            <div class="flex items-center gap-[32px] xl:gap-[42px] text-white select-none">
                                <!-- DAYS -->
                                <div class="flex flex-col items-center">
                                    <div class="font-['Roboto'] font-semibold tabular-nums text-[92px] leading-[92px] xl:text-[110px] xl:leading-[110px]"
                                        x-text="dd">00</div>
                                    <div
                                        class="mt-1 font-['Roboto'] text-[18px] leading-[22px] xl:text-[20px] xl:leading-[24px]">
                                        {{ t('home.timer.days')|upper }}</div>
                                </div>
                                <!-- dots -->
                                <div class="flex flex-col items-center justify-center gap-[18px] xl:gap-[22px]">
                                    <span class="block w-4 h-4 rounded-full bg-white"></span>
                                    <span class="block w-4 h-4 rounded-full bg-white"></span>
                                </div>
                                <!-- HOURS -->
                                <div class="flex flex-col items-center">
                                    <div class="font-['Roboto'] font-semibold tabular-nums text-[92px] leading-[92px] xl:text-[110px] xl:leading-[110px]"
                                        x-text="hh">00</div>
                                    <div
                                        class="mt-1 font-['Roboto'] text-[18px] leading-[22px] xl:text-[20px] xl:leading-[24px]">
                                        {{ t('home.timer.hours')|upper }}</div>
                                </div>
                                <!-- dots -->
                                <div class="flex flex-col items-center justify-center gap-[18px] xl:gap-[22px]">
                                    <span class="block w-4 h-4 rounded-full bg-white"></span>
                                    <span class="block w-4 h-4 rounded-full bg-white"></span>
                                </div>
                                <!-- MINUTES -->
                                <div class="flex flex-col items-center">
                                    <div class="font-['Roboto'] font-semibold tabular-nums text-[92px] leading-[92px] xl:text-[110px] xl:leading-[110px]"
                                        x-text="mm">00</div>
                                    <div
                                        class="mt-1 font-['Roboto'] text-[18px] leading-[22px] xl:text-[20px] xl:leading-[24px]">
                                        {{ t('home.timer.minutes')|upper }}</div>
                                </div>
                                <!-- dots -->
                                <div class="flex flex-col items-center justify-center gap-[18px] xl:gap-[22px]">
                                    <span class="block w-4 h-4 rounded-full bg-white"></span>
                                    <span class="block w-4 h-4 rounded-full bg-white"></span>
                                </div>
                                <!-- SECONDS -->
                                <div class="flex flex-col items-center">
                                    <div class="font-['Roboto'] font-semibold tabular-nums text-[92px] leading-[92px] xl:text-[110px] xl:leading-[110px]"
                                        x-text="ss">00</div>
                                    <div
                                        class="mt-1 font-['Roboto'] text-[18px] leading-[22px] xl:text-[20px] xl:leading-[24px]">
                                        {{ t('home.timer.seconds')|upper }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- /timer-wrap -->
        </div>

        <!-- ===== SMALL (<1024px) WITH SECONDS ===== -->
        <div class="timer-small block w-full" x-show="!isDesktop" x-cloak x-transition.opacity.duration.200ms>
            <div class="timer-wrap mx-auto
              w-[380px]  h-[180px]
              sm:w-[460px] sm:h-[200px]
              md:w-[620px] md:h-[240px]
              rounded-[16px]">
                <!-- Background -->
                <div class="timer-bg">
                    <img src="{{ url_for('static', path='img/timer/timer_bg.png') }}" x-bind:src="bgUrl" alt=""
                        aria-hidden="true" />
                </div>

                <!-- Content ON TOP -->
                <div class="timer-content px-4 sm:px-5 md:px-7 flex items-center text-white">
                    <!-- Left counters -->
                    <div class="flex-1">
                        <div class="font-['Montserrat'] font-medium text-[14px] sm:text-[15px] md:text-[16px]">
                            {{ t('home.timer.remaining') }}
                        </div>

                        <div class="mt-2 sm:mt-2.5 md:mt-3 flex items-center gap-3 sm:gap-3.5 md:gap-4 tabular-nums">
                            <!-- DAYS -->
                            <div class="text-center">
                                <div class="font-['Montserrat'] leading-none
                        text-[28px] sm:text-[32px] md:text-[38px]" x-text="dd">00</div>
                                <div
                                    class="font-['Montserrat'] tracking-wide text-[10px] sm:text-[11px] md:text-[12px]">
                                    {{ t('home.timer.days')|upper }}
                                </div>
                            </div>

                            <!-- dots -->
                            <div
                                class="flex flex-col items-center justify-center gap-[12px] sm:gap-[13px] md:gap-[14px]">
                                <span class="block w-2 h-2 rounded-full bg-white"></span>
                                <span class="block w-2 h-2 rounded-full bg-white"></span>
                            </div>

                            <!-- HOURS -->
                            <div class="text-center">
                                <div class="font-['Montserrat'] leading-none
                        text-[28px] sm:text-[32px] md:text-[38px]" x-text="hh">00</div>
                                <div
                                    class="font-['Montserrat'] tracking-wide text-[10px] sm:text-[11px] md:text-[12px]">
                                    {{ t('home.timer.hours')|upper }}
                                </div>
                            </div>

                            <!-- dots -->
                            <div
                                class="flex flex-col items-center justify-center gap-[12px] sm:gap-[13px] md:gap-[14px]">
                                <span class="block w-2 h-2 rounded-full bg-white"></span>
                                <span class="block w-2 h-2 rounded-full bg-white"></span>
                            </div>

                            <!-- MINUTES -->
                            <div class="text-center">
                                <div class="font-['Montserrat'] leading-none
                        text-[28px] sm:text-[32px] md:text-[38px]" x-text="mm">00</div>
                                <div
                                    class="font-['Montserrat'] tracking-wide text-[10px] sm:text-[11px] md:text-[12px]">
                                    {{ t('home.timer.minutes')|upper }}
                                </div>
                            </div>

                            <!-- dots -->
                            <div
                                class="flex flex-col items-center justify-center gap-[12px] sm:gap-[13px] md:gap-[14px]">
                                <span class="block w-2 h-2 rounded-full bg-white"></span>
                                <span class="block w-2 h-2 rounded-full bg-white"></span>
                            </div>

                            <!-- SECONDS -->
                            <div class="text-center">
                                <div class="font-['Montserrat'] leading-none
                        text-[28px] sm:text-[32px] md:text-[38px]" x-text="ss">00</div>
                                <div
                                    class="font-['Montserrat'] tracking-wide text-[10px] sm:text-[11px] md:text-[12px]">
                                    {{ t('home.timer.seconds')|upper }}
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right deadline (smaller) -->
                    <div class="flex items-center gap-3 sm:gap-3.5 md:gap-4 pl-3 sm:pl-3.5 md:pl-4">
                        <div class="h-[84px] sm:h-[96px] md:h-[108px] w-px bg-white/80"></div>
                        <div class="text-center">
                            <div class="font-['Montserrat'] font-medium text-[14px] sm:text-[15px] md:text-[16px]">
                                {{ t('home.timer.deadline') }}
                            </div>
                            <div class="mt-1.5 sm:mt-2 md:mt-2.5 font-['Montserrat'] leading-none
                      text-[28px] sm:text-[32px] md:text-[36px]">
                                {{ timer.deadline_day }}
                            </div>
                            <div class="font-['Montserrat'] tracking-wide uppercase
                      text-[10px] sm:text-[11px] md:text-[12px]">
                                {{ timer.deadline_month_upper }}
                            </div>
                        </div>
                    </div>
                </div><!-- /timer-content -->
            </div><!-- /timer-wrap -->
        </div>

    </div>
</section>


