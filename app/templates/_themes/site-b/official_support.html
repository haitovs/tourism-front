{% extends "base.html" %}

{% block content %}
<main class="w-screen min-h-screen">
    <section class="w-screen min-h-screen flex items-stretch justify-center p-0">
        {% if doc_is_image and doc_image_url %}
        <div class="flex items-center justify-center w-full h-full">
            <img src="{{ doc_image_url }}" alt="{{ doc_filename or 'Document image' }}"
                class="max-h-[90vh] max-w-[95vw] object-contain" loading="lazy" />
        </div>
        {% elif doc_is_pdf and doc_embed_url %}
        {% set _src = doc_embed_url ~ '#toolbar=0&navpanes=0&scrollbar=0' %}
        <iframe title="Official support document" src="{{ _src }}" class="w-screen h-screen border-0 block"
            allowfullscreen loading="lazy"></iframe>
        {% elif viewer_url %}
        <iframe title="Official support document" src="{{ viewer_url }}" class="w-screen h-screen border-0 block"
            allowfullscreen loading="lazy"></iframe>
        {% elif viewer_url_alt %}
        <iframe title="Official support document" src="{{ viewer_url_alt }}" class="w-screen h-screen border-0 block"
            allowfullscreen loading="lazy"></iframe>
        {% elif doc_html %}
        <div class="w-screen min-h-screen p-0 overflow-auto font-['Roboto'] text-[18px] leading-[28px] text-black prose max-w-none legal-content"
            aria-label="Official support document body">
            {{ doc_html|safe }}
        </div>
        {% else %}
        <div class="w-screen min-h-screen flex items-center justify-center p-8 text-center font-['Roboto'] text-[18px] leading-[28px] text-black">
            {{ t('official.missing_doc') if t else 'Document unavailable.' }}
        </div>
        {% endif %}
    </section>
</main>
{% endblock %}
