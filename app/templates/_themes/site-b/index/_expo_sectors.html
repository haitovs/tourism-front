{# Site-B Â· Expo Sectors (Tailwind, 2 rows max) #}
{% set _src =
(sectors if (sectors is defined and sectors) else
(sectors_data if (sectors_data is defined and sectors_data) else
(data if (data is defined and data) else []))) %}

{% if _src is mapping and 'items' in _src %}
{% set items = _src['items'] or [] %}
{% else %}
{% set items = _src or [] %}
{% endif %}

<section id="expo-sectors" class="mt-12 mb-12 md:mt-16 md:mb-16">
    <div class="max-w-[1650px] mx-auto px-3 sm:px-4">

        {# Header: Title | Divider | Body #}
        <header class="grid grid-cols-1 md:grid-cols-[auto_2px_1fr] items-start gap-[30px] mb-[clamp(24px,4vw,36px)]">
            <h2
                class="font-['Roboto'] font-semibold text-[clamp(26px,3.2vw,40px)] leading-[40px] text-[#20306C] mt-[10px]">
                {{ t('siteb.sectors.title') }}
            </h2>
            <span class="hidden md:block w-[2px] h-[99px] bg-[#20306C] rounded"></span>
            <p class="font-['Lato'] font-semibold text-[clamp(15px,1.8vw,20px)] leading-[25px] text-[#20306C]">
                {{ t('siteb.sectors.body') }}
            </p>
        </header>

        {# Cards grid: slice to first 6 => two rows at xl (3x2) #}
        {% if items|length > 0 %}
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-[50px] justify-items-center">
            {% for s in items[:6] %}
            {% set img = (s.logo_url or s.image_url or s.image or s.cover or '/static/img/img_placeholder.png') %}
            {% set title = (s.header or s.title or s.name or '') %}
            {% set desc = (s.description or s.desc or '') %}
            {% set sid = (s.id or s.slug or loop.index) %}

            <article
                class="relative w-full max-w-[460px] h-[280px] rounded-[10px] overflow-hidden shadow-[0_6px_18px_rgba(0,0,0,.08)]">
                <img src="{{ img }}" alt="{{ title }}" class="absolute inset-0 w-full h-full object-cover"
                    onerror="this.src='/static/img/img_placeholder.png'; this.style.objectFit='contain';" />

                <div class="absolute inset-0 bg-black/40"></div>

                <div class="absolute inset-0 flex flex-col items-center text-center text-[#F0F0F0]
                        [filter:drop-shadow(0_4px_4px_rgba(0,0,0,.45))] px-6 pt-[60px] pb-5">
                    <div class="flex-1 grid justify-items-center content-start w-full">
                        <h3 class="font-['Lato'] font-bold text-[22px] leading-[30px] mb-3 max-w-[305px]">
                            {{ title }}
                        </h3>
                        <p class="font-['Lato'] font-normal text-[16px] leading-[18px] max-w-[305px] mb-0
                           max-h-[72px] overflow-hidden break-words">
                            {{ desc }}
                        </p>
                    </div>

                    <a href="/expo-sectors/{{ sid }}" class="mt-4 inline-flex items-center gap-2 font-['Lato'] font-black text-[12px] leading-[14px] text-[#F0F0F0]
                        hover:opacity-90 hover:-translate-y-[1px] transition">
                        <span>{{ t('siteb.sectors.read_more') }}</span>
                        <svg viewBox="0 0 16 16" class="w-3 h-3" aria-hidden="true">
                            <path d="M2 8h12M10 4l4 4-4 4" fill="none" stroke="#F0F0F0" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-8">
            <p class="font-['Lato'] text-[#20306C] opacity-80">
                {{ t('siteb.sectors.empty') if 'siteb.sectors.empty' in translations else 'Sectors will be announced
                soon.' }}
            </p>
        </div>
        {% endif %}

        {# Section CTA #}
        <div class="grid place-items-center mt-[clamp(24px,4vw,36px)]">
            <a href="/expo-sectors"
                class="inline-flex items-center justify-center gap-3 w-[189px] h-[55px] rounded-[6px] bg-[#B8D779] text-[#F0F0F0]
                font-['Lato'] font-black text-[16px] leading-[25px] hover:opacity-95 hover:-translate-y-[1px] transition">
                <span>{{ t('siteb.sectors.more_details') }}</span>
                <svg viewBox="0 0 24 24" class="w-4 h-4" aria-hidden="true">
                    <path d="M9 5l7 7-7 7" fill="none" stroke="#F0F0F0" stroke-width="1.8" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </a>
        </div>

    </div>
</section>