{# Site-B pager (blue theme) #}
{% macro pager(current_page, total_pages, q=None) -%}
{% if total_pages and total_pages > 1 %}
<nav class="mt-12" aria-label="{{ t('news.pager.aria') }}">
    <div class="border-t-2 border-[#20306C] max-w-[1200px] mx-auto"></div>

    <div class="mt-4 flex items-center justify-center gap-4 flex-wrap text-[#20306C]">
        {% if current_page > 1 %}
        <a rel="prev" href="/news?page={{ current_page - 1 }}{% if q %}&amp;q={{ q|urlencode }}{% endif %}"
            class="font-['Montserrat'] text-[24px] text-[#20306C] hover:opacity-80 transition">
            {{ t('news.pager.previous') }}
        </a>
        {% else %}
        <span class="font-['Montserrat'] text-[24px] text-[#20306C]/40 select-none">
            {{ t('news.pager.previous') }}
        </span>
        {% endif %}

        <div class="flex items-center gap-2">
            {% set start = 1 if current_page - 2 < 1 else current_page - 2 %}
            {% set end = total_pages if current_page + 2 > total_pages else current_page + 2 %}

            {% if start > 1 %}
            <a href="/news?page=1{% if q %}&amp;q={{ q|urlencode }}{% endif %}"
                class="w-[41px] h-[41px] inline-flex items-center justify-center rounded-[5px] bg-[rgba(32,48,108,0.12)] font-['Roboto'] text-[25px] text-[#1E1E1E]">
                1
            </a>
            {% if start > 2 %}
            <span class="px-1 text-[#1E1E1E]/60">…</span>
            {% endif %}
            {% endif %}

            {% for p in range(start, end + 1) %}
            {% if p == current_page %}
            <span aria-current="page"
                class="w-[41px] h-[41px] inline-flex items-center justify-center rounded-[5px] bg-[#20306C] text-white font-['Roboto'] text-[25px]">
                {{ p }}
            </span>
            {% else %}
            <a href="/news?page={{ p }}{% if q %}&amp;q={{ q|urlencode }}{% endif %}"
                class="w-[41px] h-[41px] inline-flex items-center justify-center rounded-[5px] bg-[rgba(32,48,108,0.12)] font-['Roboto'] text-[25px] text-[#1E1E1E] hover:bg-[rgba(32,48,108,0.18)] transition">
                {{ p }}
            </a>
            {% endif %}
            {% endfor %}

            {% if end < total_pages %}
            {% if end < total_pages - 1 %}
            <span class="px-1 text-[#1E1E1E]/60">…</span>
            {% endif %}
            <a href="/news?page={{ total_pages }}{% if q %}&amp;q={{ q|urlencode }}{% endif %}"
                class="w-[41px] h-[41px] inline-flex items-center justify-center rounded-[5px] bg-[rgba(32,48,108,0.12)] font-['Roboto'] text-[25px] text-[#1E1E1E] hover:bg-[rgba(32,48,108,0.18)] transition">
                {{ total_pages }}
            </a>
            {% endif %}
        </div>

        {% if current_page < total_pages %}
        <a rel="next" href="/news?page={{ current_page + 1 }}{% if q %}&amp;q={{ q|urlencode }}{% endif %}"
            class="font-['Montserrat'] text-[24px] text-[#20306C] hover:opacity-80 transition">
            {{ t('news.pager.next') }}
        </a>
        {% else %}
        <span class="font-['Montserrat'] text-[24px] text-[#20306C]/40 select-none">
            {{ t('news.pager.next') }}
        </span>
        {% endif %}
    </div>
</nav>
{% endif %}
{%- endmacro %}
